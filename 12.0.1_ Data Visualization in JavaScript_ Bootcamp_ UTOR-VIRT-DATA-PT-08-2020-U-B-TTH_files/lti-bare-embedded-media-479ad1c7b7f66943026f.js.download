(window.webpackJsonp=window.webpackJsonp||[]).push([[14,21],{"/qZw":function(e,t,n){},"1adm":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("bW9F"));function r(e,t){return{tokens:e.pandata_tokens,refreshCallback:function(){return i.default.get("/api/media_management/".concat(t,"/").concat(e.id,"/pandata_tokens")).then((function(e){return e.data.pandata_tokens.auth}))}}}var o={getTokenRefreshContextForPerspective:function(e){return r(e,"perspectives")},getTokenRefreshContextForMedia:function(e){return r(e,"media")}};t.default=o},"284h":function(e,t,n){var a=n("cDf5");function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var l=r?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}},"7h0Z":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("lo+I")),r=n("5hAk"),o=n("LvDl"),l=a(n("QzMw")),u=a(n("uqll")),d=a(n("qEZ4")),c=a(n("eQhg")),s=a(n("Q1gI")),f=a(n("PTax")),p=a(n("kSa1")),m={loadCollections:function(){return p.default.loadCollections().then((function(e){i.default.dispatch({type:r.Actions.COLLECTIONS_LOADED,collections:e})})).catch((function(e){l.default.raise(c.default.t("Error loading Collections."),e)}))},loadCollection:function(e){return p.default.loadCollection(e).then((function(e){i.default.dispatch({type:r.Actions.COLLECTIONS_LOADED,collections:[e]})})).catch((function(e){l.default.raise(c.default.t("Error loading Collection."),e)}))},navToCollection:function(e){d.default.push("".concat(s.default.homePath(),"collections/").concat(e))},addPage:function(e){i.default.dispatch({type:r.Actions.COLLECTION_PAGE_LOADED,items:e})},createCustomCollection:function(e){return p.default.createCollection({name:e}).then((function(e){i.default.dispatch({type:r.Actions.COLLECTIONS_LOADED,collections:[e]}),m.navToCollection(e.id),u.default.notify(c.default.t("Your collection has been created."),"success")})).catch((function(e){return l.default.raise(c.default.t("Error creating a collection"),e)}))},moveMedia:function(e,t,n){return p.default.movePerspective(e,t,n).then((function(){i.default.dispatch({type:r.Actions.PERSPECTIVE_MOVED,id:e,newCollectionId:n}),u.default.notify(c.default.t("1 video has been moved."),"success")})).catch((function(e){return l.default.raise(c.default.t("Error moving the media"),e)}))},moveMediaToNewCollection:function(e,t,n){var a=this;return p.default.createCollection({name:n}).then((function(n){return a.moveMedia(e,t,n.id)})).then(this.loadCollections).then((function(){u.default.notify(c.default.t("Your collection has been created."),"success")})).catch((function(e){return l.default.raise(c.default.t("Error creating a collection"),e)}))},showMoveMediaModal:function(e,t){i.default.dispatch({type:r.Actions.COLLECTION_SHOW_MEDIA_MOVE_MODAL,perspectiveId:e,fromCollectionId:t})},hideMoveMediaModal:function(){i.default.dispatch({type:r.Actions.COLLECTION_HIDE_MEDIA_MOVE_MODAL})},deleteCustomCollection:function(e){var t=f.default.isUserOwnedCollection(e)?"user":"shared";return p.default.deleteCollection(e).then((function(e){i.default.dispatch({type:r.Actions.COLLECTION_DELETE,collectionId:e.id}),m.navToCollection(t),u.default.notify(c.default.t("Your collection has been deleted."),"success")})).catch((function(e){l.default.raise(c.default.t("Error deleting collection"),e)}))},renameCollection:function(e,t){return p.default.updateCollection(e,{name:t}).then((function(e){i.default.dispatch({type:r.Actions.COLLECTION_RENAME,collectionId:e.id,collectionName:e.name}),u.default.notify(c.default.t("Your collection has been renamed."),"success")})).catch((function(e){l.default.raise(c.default.t("Error renaming collection."),e)}))},getCollectionPermissions:function(e){return i.default.dispatch({type:r.Actions.COLLECTION_PERMISSIONS_LOADING}),p.default.getCollectionPermissions(e).then((function(t){m.setCollectionPermissions(e,t)})).catch((function(e){l.default.raise(c.default.t("Error fetching collection permissions."),e)}))},setCollectionPermissions:function(e,t){i.default.dispatch({type:r.Actions.COLLECTION_PERMISSIONS_LOADED,collectionId:e,collection_permissions:t})},saveCollectionPermissions:function(e,t){return p.default.updateCollectionPermissions(e,t).then((function(e){i.default.dispatch({type:r.Actions.COLLECTION_PERMISSIONS_SAVED,collection_permissions:e})})).then((function(){u.default.notify(c.default.t("Your collection sharing has been updated."),"success")})).catch((function(e){l.default.raise(c.default.t("Error updating collection permissions."),e)}))},addCollectionPermission:function(e){i.default.dispatch({type:r.Actions.COLLECTION_PERMISSION_ADDED,permission:e})},updateCollectionPermission:function(e){i.default.dispatch({type:r.Actions.COLLECTION_PERMISSION_UPDATED,permission:e})},getCollectionsShareInfo:function(e){return p.default.getCollectionsShareInfo(e).then((function(e){var t=(0,o.uniq)(e);i.default.dispatch({type:r.Actions.COLLECTION_SHARED_IDS_LOADED,sharedIds:t})})).catch((function(e){l.default.raise(c.default.t("Error retrieving collection metadata."),e)}))}},I=m;t.default=I},"8LIC":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var i=n("cPO5"),r=a(n("eQhg")),o=a(n("17x9")),l=a(n("q1tI")),u=a(n("TSYQ"));function d(e){var t=e.open,n=e.isLoading,a=e.children,o=e.backdrop;if(!t)return null;var d=(0,u.default)("VideoMask",{"VideoMask--backdrop":o});return l.default.createElement("div",{className:d},n?l.default.createElement(i.Spinner,{renderTitle:r.default.t("Loading"),size:"large"}):a)}n("WVY7"),d.propTypes={open:o.default.bool.isRequired,children:o.default.arrayOf(o.default.element),isLoading:o.default.bool,backdrop:o.default.bool},d.defaultProps={isLoading:!1,children:null,backdrop:!0}},EoK6:function(e,t,n){"use strict";var a=n("TqRt");function i(e){if(null==e||""===e)throw new Error("to use storage, you must provide a valid key")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={storage:a(n("hmNf")).default.getStorage(!0),fetch:function(e){return i(e),JSON.parse(r.storage.getItem(e))||[]},set:function(e,t){i(e),r.storage.setItem(e,JSON.stringify(t))}},o=r;t.default=o},G2tU:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("lwsE")),r=a(n("W8MJ")),o=a(n("PJYZ")),l=a(n("a1gu")),u=a(n("Nsbk")),d=a(n("7W2i")),c=a(n("lSNA")),s=a(n("17x9")),f=a(n("q1tI")),p=n("K6WN"),m=n("HU+D"),I=n("iaGh"),h=n("R5zu"),g=a(n("HXfn")),y=n("5hAk"),v=n("pcar");function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var M=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,u.default)(t);if(P()){var a=(0,u.default)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,l.default)(this,e)});function a(){var e;(0,i.default)(this,a);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=n.call.apply(n,[this].concat(r)),(0,c.default)((0,o.default)(e),"state",{placement:"end"}),(0,c.default)((0,o.default)(e),"updateDimensions",(function(){window.innerWidth<y.Sizes.MOBILE?e.setState({placement:"bottom"}):e.setState({placement:"end"})})),e}return(0,r.default)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions),this.updateDimensions()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e=this.props,t=e.icon,n=e.href,a=e.label,i=e.screenReaderLabel,r=e.onClick;return f.default.createElement("div",{className:"StudioActionButton"},f.default.createElement(m.Tooltip,{tip:a,placement:this.state.placement,constrain:"parent",variant:"inverse"},f.default.createElement(p.Button,{variant:"circle-default",icon:t,href:n,download:Boolean(n),onClick:r,theme:{circleDefaultBorderColor:I.light,circleDefaultBackground:v.colors.buttonBackground,circleDefaultHoverBackground:(0,h.lighten)(I.dark,10),circleDefaultActiveBackground:I.dark,circleDefaultColor:I.light,mediumHeight:v.sizes.buttonSize,iconSizeMedium:v.sizes.iconSize,borderWidth:v.sizes.borderWidth}},f.default.createElement(g.default,null,i||a))))}}]),a}(f.default.Component);(0,c.default)(M,"propTypes",{icon:s.default.func.isRequired,label:s.default.string.isRequired,screenReaderLabel:s.default.string,href:s.default.string,onClick:s.default.func}),(0,c.default)(M,"defaultProps",{href:"",onClick:function(){},screenReaderLabel:""});var E=M;t.default=E},"HU+D":function(e,t,n){"use strict";n.r(t);var a=n("bZJi");n.d(t,"Tooltip",(function(){return a.a}))},HXfn:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("pVnL")),r=a(n("QILm")),o=a(n("lwsE")),l=a(n("W8MJ")),u=a(n("PJYZ")),d=a(n("a1gu")),c=a(n("Nsbk")),s=a(n("7W2i")),f=a(n("lSNA")),p=a(n("17x9")),m=a(n("q1tI")),I=a(n("TSYQ"));function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n("XQEZ");var g=function(e){(0,s.default)(a,e);var t,n=(t=a,function(){var e,n=(0,c.default)(t);if(h()){var a=(0,c.default)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,d.default)(this,e)});function a(){var e;(0,o.default)(this,a);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e=n.call.apply(n,[this].concat(i)),(0,f.default)((0,u.default)(e),"generateSentenceDelimiter",(function(){return m.default.createElement("em",{role:"presentation","aria-hidden":!0},". ")})),e}return(0,l.default)(a,[{key:"render",value:function(){var e={},t=[],n=this.props,a=n.forceSentenceDelimiter,o=n.dangerouslySetInnerHTML,l=n.children,u=n.tagName,d=(0,r.default)(n,["forceSentenceDelimiter","dangerouslySetInnerHTML","children","tagName"]),c=u;return e.className=(0,I.default)({ScreenReaderContent:!0,"is-focusable":this.props.isFocusable}),a&&t.push(this.generateSentenceDelimiter()),t.length?o?console.error("You are attempting to set the dangerouslySetInnerHTML prop","on a ScreenReaderContent component, which prevents it from enabling","further accessibility enhancements.","Try setting that property on a passed child instead."):e.children=[l,t]:e.children=l,m.default.createElement(c,(0,i.default)({},e,d),e.children)}}]),a}(m.default.Component);(0,f.default)(g,"propTypes",{forceSentenceDelimiter:p.default.bool,tagName:p.default.string}),(0,f.default)(g,"defaultProps",{tagName:"span",forceSentenceDelimiter:!1}),g.displayName="ScreenReaderContent";var y=g;t.default=y},LCk2:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._component=t.getUsableCaptions=void 0;var i=a(n("pVnL")),r=a(n("J4zp")),o=a(n("lwsE")),l=a(n("W8MJ")),u=a(n("PJYZ")),d=a(n("a1gu")),c=a(n("Nsbk")),s=a(n("7W2i")),f=a(n("lSNA")),p=a(n("RIqP")),m=a(n("q1tI")),I=a(n("17x9")),h=n("4UDy"),g=n("kTRk"),y=n("LvDl"),v=a(n("TSYQ")),P=n("5hAk"),M=a(n("jP4r")),E=a(n("NgXZ")),S=a(n("jrib")),D=a(n("XXNU")),C=a(n("OCqK")),b=a(n("PSlB")),j=a(n("k6PT")),A=a(n("T9Ih")),k=n("Er2Q"),T=a(n("W9zl")),N=a(n("ZW6P")),L=a(n("PZMZ")),R=a(n("eQhg")),_=n("rvKt"),O=a(n("g8Hd")),w=a(n("i3b2")),x=a(n("dyFy")),Z=a(n("Gmfv"));function B(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,f.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n("/qZw");var V=P.CaptionFileStatuses.PUBLISHED,G=P.CaptionFileStatuses.UPLOADED,z={ARIA_TIMEBAR_LABEL:R.default.t("Timebar"),ARIA_VIDEO_LABEL:R.default.t("Video Player"),PLAYBACK_PAUSE:R.default.t("Pause"),PLAYBACK_PLAY:R.default.t("Play"),FULL_SCREEN:R.default.t("Full Screen"),WINDOWED_SCREEN:R.default.t("Windowed Screen"),VOLUME_UNMUTED:R.default.t("Volume"),VOLUME_MUTED:R.default.t("Muted"),PLAYBACK_SPEED:R.default.t("Playback Speed"),SOURCE_CHOOSER:R.default.t("Media Quality"),VIDEO_TRACK:R.default.t("Closed Captioning"),CAPTIONS_OFF:R.default.t("Captions Off")},Q=["onEnded","onError","onPause","onPlay","onPlaying","onRateChange","onSeeked","onStalled","onTimeUpdate","onVolumeChange","onWaiting"],U=(0,y.uniq)([].concat(Q,(0,p.default)(Object.keys(S.default)),(0,p.default)(Object.keys(D.default)))),Y=function(e){return(0,y.filter)(e,(function(e){return(0,y.includes)([V,G],e.status)}))};t.getUsableCaptions=Y;var J=function(e){var t=e.captions;if(!t)return null;var n=Y(t).map((function(e){return W({},e,{id:String(e.id),src:e.url,language:e.srclang,type:"subtitles"})}));return(0,_.promoteLocale)(n,Z.default.baseLocale())},F=function(e){(0,s.default)(a,e);var t,n=(t=a,function(){var e,n=(0,c.default)(t);if(B()){var a=(0,c.default)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,d.default)(this,e)});function a(){var e;(0,o.default)(this,a);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e=n.call.apply(n,[this].concat(i)),(0,f.default)((0,u.default)(e),"state",{captions:J(e.props.media),originalCaptions:e.props.media&&e.props.media.captions}),(0,f.default)((0,u.default)(e),"haveCaptionsChanged",(function(e,t){return e.length!==t.length||t.map((function(t){return e.some((function(e){return e.id===t.id}))})).some((function(e){return!1===e}))})),(0,f.default)((0,u.default)(e),"deliverMessage",(function(e){return T.default[e](window.parent)})),(0,f.default)((0,u.default)(e),"handleAnnotationClosed",(function(){E.default.setAnnotationVisible(null),E.default.play()})),(0,f.default)((0,u.default)(e),"handleAnnotationReached",(function(e){E.default.pause(),E.default.setAnnotationVisible(e)})),(0,f.default)((0,u.default)(e),"renderToggleComments",(function(){var t=e.props,n=t.commentsAvailable,a=t.commentsDisabled,i=t.commentsVisible;if(a)return null;var r=R.default.t("Comments Not Available");n&&(r=i?R.default.t("Toggle Comments Off"):R.default.t("Toggle Comments On"));var o=(0,v.default)({"toggle-buttons-icon-on":i,"toggle-buttons-icon-off":!i});return m.default.createElement(h.MediaPlayer.Control,{label:r,tooltipLabel:r,icon:m.default.createElement("span",{className:o}),onClick:function(){return E.default.setCommentVisibility(!e.props.commentsVisible)}})})),e}return(0,l.default)(a,[{key:"componentDidMount",value:function(){L.default.register(this.props.pandataTokens),T.default.registerMediaControlListener(window),T.default.mediaUnstarted(window.parent),A.default.isEnabled("notecard_annotations")&&!this.props.annotationsDisabled&&M.default.loadAllAnnotationSets(this.props.media.id),(0,g.isWithinIFrame)()||E.default.focusPlay()}},{key:"componentDidUpdate",value:function(e){for(var t=0,n=Object.entries({isLoadedData:"mediaCued",isEnded:"mediaEnded",isPlaying:"mediaPlaying",isPaused:"mediaPaused",isSeeking:"mediaSeeking"});t<n.length;t++){var a=(0,r.default)(n[t],2),i=a[0],o=a[1];this.props[i]&&!e[i]&&this.deliverMessage(o)}"seeked"===this.props.lastTimeUpdateReason&&"seeked"!==e.lastTimeUpdateReason&&this.deliverMessage("mediaSeeked"),this.haveCaptionsChanged(this.state.originalCaptions,this.props.media.captions)&&this.setState({captions:J(this.props.media),originalCaptions:this.props.media.captions})}},{key:"componentWillUnmount",value:function(){L.default.unregister(this.props.pandataTokens),T.default.unregisterMediaControlListener(window),E.default.clearQueue(),E.default.setActions(null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.actionBarRender,a=t.annotations,r=t.annotationsDisabled,o=t.annotationVisible,l=t.comments,u=t.commentsVisible,d=t.controlsVisible,c=t.markers,s=t.media,f=t.pandataTokens,I=t.playerRender,g=t.playerRenderPassthrough,v=t.playhead,P=t.playheadVisible,M=t.captionOffset,k=this.state.captions;if(!s)return null;var T=function(e){var t=e.sources;return t?(0,y.isString)(t)?t:(0,y.isArray)(t)?t.map((function(e){if((0,y.isString)(e))return e;if((0,y.isObject)(e)){var t=e.mime_type.split("/"),n=t[t.length-1];return W({},e,{src:e.url,label:"".concat(e.definition," (").concat(n,")"),defaultSelected:e.defaultSelected})}return null})):null:null}(s),R={};U.forEach((function(e){R[e]=function(t,n){if(Q.includes(e)){var a=e.toLowerCase().substr(2);L.default.report(a,function(e){var t=(0,y.find)(e.sources,(function(t){return t.url===e.selectedSrc}));return{definition:t&&t.definition||"unknown",duration:e.duration,paused:"PAUSED"===e.mediaState,playbackRate:e.playbackSpeed,timestamp:Math.floor(e.currentTime),volume:e.volume}}(n),f.tokens)}var i=S.default[e];i&&i();var r=D.default[e];r&&r(n)}}));var _=r?[]:a.map((function(t){return m.default.createElement(h.MediaPlayer.Marker,{key:"annotation-".concat(t.id),onReached:function(){e.handleAnnotationReached(t)},time:t.time,variant:"circle"})})),O=u?l.map((function(e){return m.default.createElement(h.MediaPlayer.Marker,{key:"comment-".concat(e.data.id),time:e.data.time,variant:"circle"})})):[],w=c&&c.map((function(e){return m.default.createElement(h.MediaPlayer.Marker,e)}))||[],x=(0,y.sortBy)([].concat((0,p.default)(w),(0,p.default)(_),(0,p.default)(O)),(function(e){return e.props.time})),Z=N.default.isAudio(s),B=null;Z?B=b.default:"none"===s.branding&&(B=N.default.largeThumbnailUrl(s.thumbnail_url));var H="youtube"===s.branding?"youtube":"video";return m.default.createElement(h.MediaPlayer,(0,i.default)({disableRightClick:!A.default.isEnabled("react_media_player_contextmenu"),type:H,markers:x,actionsRef:function(e){return E.default.setActions(e)},customControls:this.renderToggleComments,hideFullScreen:Z,playhead:P&&m.default.createElement(h.MediaPlayer.Playhead,v),poster:B,sources:T,tracks:k},R,{fluidWidth:!0,fluidHeight:!0,onLoadedMetadata:function(){return E.default.flushQueue()},translations:z,captionOffset:M}),u&&m.default.createElement(h.MediaPlayer.Overlay,{passthrough:!0},(function(){return m.default.createElement(j.default,{comments:l})})),o&&m.default.createElement(h.MediaPlayer.Overlay,{"data-test":"AnnotationNotecardMaskOverlay"},(function(){return m.default.createElement(C.default,{open:!0,annotation:{headline:o.headline,description:o.text,linkDisplayText:o.link_text,link:o.link},onButtonClick:e.handleAnnotationClosed})})),I&&m.default.createElement(h.MediaPlayer.Overlay,{passthrough:g},(function(e){return e&&I(e)})),n&&d&&m.default.createElement(h.MediaPlayer.Overlay,{passthrough:!0},n))}}]),a}(m.default.Component),q=I.default.shape({id:I.default.number.isRequired,time:I.default.number.isRequired,type:I.default.string.isRequired,text:I.default.string});F.propTypes={actionBarRender:I.default.func,annotations:I.default.arrayOf(q),annotationsDisabled:I.default.bool,annotationVisible:q,comments:I.default.array,commentsDisabled:I.default.bool,commentsVisible:I.default.bool,controlsVisible:I.default.bool,markers:I.default.arrayOf(I.default.shape(h.MediaPlayer.Marker.propTypes)),commentsAvailable:I.default.bool,media:I.default.shape({id:I.default.number.isRequired,sources:I.default.array.isRequired,captions:I.default.array.isRequired}).isRequired,pandataTokens:I.default.object,playerRender:I.default.func,playerRenderPassthrough:I.default.bool,playhead:I.default.shape(h.MediaPlayer.Playhead.propTypes),playheadVisible:I.default.bool,captionOffset:h.MediaPlayer.propTypes.captionOffset};var X=F;t._component=X;var K=(0,k.monitor)({AnnotationStore:O.default,MediaElementStore:w.default,PerspectiveCommentStore:x.default},(function(e,t){var n=t.media.id?e.AnnotationStore.findFirstSetAnnotations(t.media.id):[],a=t.perspectiveId?e.PerspectiveCommentStore.timelineComments(t.perspectiveId):[];return{annotations:n,annotationVisible:e.MediaElementStore.annotationVisible(),comments:a,commentsVisible:e.MediaElementStore.commentsVisible(),commentsAvailable:e.MediaElementStore.commentsAvailable(),controlsVisible:e.MediaElementStore.controlsVisible(),isEnded:e.MediaElementStore.isEnded(),isPlaying:e.MediaElementStore.isPlaying(),isPaused:e.MediaElementStore.isPaused(),isSeeking:e.MediaElementStore.isSeeking(),isLoadedData:e.MediaElementStore.isLoadedData(),lastTimeUpdateReason:e.MediaElementStore.getLastTimeUpdateReason()}}),F,{Menu:h.MediaPlayer.Menu});t.default=K},Mzra:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("lo+I")),r=n("5hAk"),o={loaded:function(e,t){i.default.dispatch({type:r.Actions.MEDIA_TAGS_LOADED,mediaId:e,tags:t})},added:function(e,t){i.default.dispatch({type:r.Actions.MEDIA_TAG_ADDED,mediaId:e,tag:t})},addFailed:function(e,t,n){i.default.dispatch({type:r.Actions.MEDIA_TAG_ADD_FAILED,mediaId:e,tagName:t,errors:n})},removed:function(e,t){i.default.dispatch({type:r.Actions.MEDIA_TAG_REMOVED,mediaId:e,tagId:t})},removeFailed:function(e,t,n){i.default.dispatch({type:r.Actions.MEDIA_TAG_REMOVE_FAILED,mediaId:e,tag:t,errors:n})}};t.default=o},NgXZ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("RIqP")),r=a(n("lwsE")),o=a(n("W8MJ")),l=a(n("lo+I")),u=n("5hAk"),d=new(function(){function e(){var t=this;(0,r.default)(this,e),this.actions=null,this.queuedActions=[],this.focusMarker=this.makeQueueableAction((function(e){t.actions.focusMarker(e)}),"focusMarker"),this.focusPlay=this.makeQueueableAction((function(){t.actions.focusPlay()}),"focusPlay"),this.focusPlayhead=this.makeQueueableAction((function(){t.actions.focusPlayhead()}),"focusPlayhead"),this.pause=this.makeQueueableAction((function(){t.actions.pause()}),"pause"),this.play=this.makeQueueableAction((function(){t.actions.play()}),"play"),this.setVolume=this.makeQueueableAction((function(e){t.actions.setVolume(e)}),"setVolume"),this.seek=this.makeQueueableAction((function(e){null!=e&&t.actions.seek(e)}),"seek")}return(0,o.default)(e,[{key:"clearQueue",value:function(){this.queuedActions.length=0}},{key:"flushQueue",value:function(){var e=this.queuedActions,t=(0,i.default)(e);e.length=0,t.forEach((function(e){return e()}))}},{key:"queueAction",value:function(e){this.queuedActions.push(e)}},{key:"setActions",value:function(e){this.actions=e,this.flushQueue()}},{key:"unmount",value:function(){this.seek(0)}},{key:"exitFullscreen",value:function(){this.actions.setFullScreen(!1)}},{key:"setCommentVisibility",value:function(e){l.default.dispatch({type:u.Actions.PLAYER_COMMENTS_TOGGLED,visible:e})}},{key:"setCommentAvailability",value:function(e){l.default.dispatch({type:u.Actions.PLAYER_COMMENTS_AVAILABLE,available:e})}},{key:"setAnnotationVisible",value:function(e){l.default.dispatch({type:u.Actions.PLAYER_ANNOTATION_VISIBLE,annotation:e})}},{key:"makeQueueableAction",value:function(e,t){var n=this;return function(){for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];var o=n.actions;o&&o[t]?e.apply(void 0,i):n.queueAction((function(){return n[t].apply(n,i)}))}}}]),e}());t.default=d},OCqK:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var i=a(n("17x9")),r=a(n("q1tI")),o=n("9+/z"),l=n("K6WN"),u=n("nwNI"),d=n("iE3e"),c=n("dlTp"),s=n("oMAr"),f=n("OkHH"),p=n("N46v"),m=a(n("8LIC")),I=a(n("eQhg"));function h(e){var t=e.open,n=e.annotation,a=n.headline,i=n.description,h=n.linkDisplayText,g=n.link,y=e.onButtonClick,v=e.onEditClick;return r.default.createElement(m.default,{open:t},r.default.createElement(p.Flex,{width:"100%",direction:"row-reverse"},r.default.createElement(p.Flex.Item,{grow:!0,shrink:!0,size:"100px",height:"100%",align:"start"},v?r.default.createElement(l.Button,{variant:"icon-inverse",margin:"0 0 0 small",icon:s.IconEditLine,onClick:v},r.default.createElement(o.ScreenReaderContent,null,I.default.t("Edit Annotation"))):null),r.default.createElement(p.Flex.Item,{textAlign:"center",width:"50%"},r.default.createElement(p.Flex,{direction:"column",alignItems:"center",justifyItems:"center"},a?r.default.createElement(p.Flex.Item,{textAlign:"center",margin:"0 0 small 0",overflowX:"visible",overflowY:"visible"},r.default.createElement(u.Heading,{level:"h2",color:"primary-inverse"},a)):null,i?r.default.createElement(p.Flex.Item,{grow:!0,shrink:!0,textAlign:"center",width:"100%"},r.default.createElement(f.View,{textAlign:"center",maxWidth:"50%"},r.default.createElement(d.Text,{color:"primary-inverse"},i))):null,g?r.default.createElement(p.Flex.Item,{textAlign:"center",padding:"small"},r.default.createElement(c.Link,{variant:"inverse",target:"_blank",href:g},h)):null,r.default.createElement(p.Flex.Item,{textAlign:"center",padding:"medium",overflowX:"visible",overflowY:"visible"},r.default.createElement(l.Button,{variant:"primary",onClick:y},I.default.t("Continue"))))),r.default.createElement(p.Flex.Item,{grow:!0,shrink:!0,size:"100px"})))}h.propTypes={open:i.default.bool.isRequired,annotation:i.default.shape({headline:i.default.string,description:i.default.string,linkDisplayText:i.default.string,link:i.default.string}).isRequired,onEditClick:i.default.func,onButtonClick:i.default.func.isRequired},h.defaultProps={onEditClick:null}},PSlB:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDM2IiBoZWlnaHQ9IjU3OSI+PGRlZnM+PGZpbHRlciBpZD0iYSIgd2lkdGg9IjIwMCUiIGhlaWdodD0iMjAwJSIgeD0iLTUwJSIgeT0iLTUwJSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij48ZmVPZmZzZXQgZHk9IjMiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIzIiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiLz48ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMTYgMCIgaW49InNoYWRvd0JsdXJPdXRlcjEiIHJlc3VsdD0ic2hhZG93TWF0cml4T3V0ZXIxIi8+PGZlTWVyZ2U+PGZlTWVyZ2VOb2RlIGluPSJzaGFkb3dNYXRyaXhPdXRlcjEiLz48ZmVNZXJnZU5vZGUgaW49IlNvdXJjZUdyYXBoaWMiLz48L2ZlTWVyZ2U+PC9maWx0ZXI+PGZpbHRlciBpZD0iYyIgd2lkdGg9IjIwMCUiIGhlaWdodD0iMjAwJSIgeD0iLTUwJSIgeT0iLTUwJSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij48ZmVPZmZzZXQgZHk9IjIiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dPZmZzZXRPdXRlcjEiLz48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiLz48ZmVDb2xvck1hdHJpeCB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuNSAwIiBpbj0ic2hhZG93Qmx1ck91dGVyMSIgcmVzdWx0PSJzaGFkb3dNYXRyaXhPdXRlcjEiLz48ZmVNZXJnZT48ZmVNZXJnZU5vZGUgaW49InNoYWRvd01hdHJpeE91dGVyMSIvPjxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyIvPjwvZmVNZXJnZT48L2ZpbHRlcj48ZmlsdGVyIGlkPSJkIiB3aWR0aD0iMjAwJSIgaGVpZ2h0PSIyMDAlIiB4PSItNTAlIiB5PSItNTAlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giPjxmZU9mZnNldCBkeT0iMiIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjIiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSIvPjxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC41IDAiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIiByZXN1bHQ9InNoYWRvd01hdHJpeE91dGVyMSIvPjxmZU1lcmdlPjxmZU1lcmdlTm9kZSBpbj0ic2hhZG93TWF0cml4T3V0ZXIxIi8+PGZlTWVyZ2VOb2RlIGluPSJTb3VyY2VHcmFwaGljIi8+PC9mZU1lcmdlPjwvZmlsdGVyPjxyYWRpYWxHcmFkaWVudCBpZD0iYiIgY3g9IjUwLjUyNiUiIGZ4PSI1MC41MjYlIiBmeT0iNTAlIj48c3RvcCBzdG9wLWNvbG9yPSIjNUI2Qzc5IiBvZmZzZXQ9IjAlIi8+PHN0b3Agc3RvcC1jb2xvcj0iIzJEM0I0NSIgb2Zmc2V0PSIxMDAlIi8+PC9yYWRpYWxHcmFkaWVudD48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWx0ZXI9InVybCgjYSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYgMykiPjxwYXRoIGZpbGw9InVybCgjYikiIGQ9Ik0wIDBoMTAyNHY1NjdIMHoiLz48ZyBmaWxsPSIjRkZGIiBvcGFjaXR5PSIuMSI+PGcgZmlsdGVyPSJ1cmwoI2MpIiBvcGFjaXR5PSIuOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTI5IDEyMykiPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSI5Mi41MyIgeT0iMTExLjgwNyIgcng9IjQuNDAxIi8+PHJlY3Qgd2lkdGg9IjguODAyIiBoZWlnaHQ9IjEzNC45NCIgeD0iMTcuNjA1IiB5PSI4OC42NzUiIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIxODEuMjA1IiB4PSIzNS4yMDkiIHk9IjY1LjU0MiIgcng9IjQuNDAxIi8+PHJlY3Qgd2lkdGg9IjguODAyIiBoZWlnaHQ9IjE1NC4yMTciIHg9IjUyLjgxNCIgeT0iODAuOTY0IiByeD0iNC40MDEiLz48cmVjdCB3aWR0aD0iOC44MDIiIGhlaWdodD0iMTE1LjY2MyIgeD0iNzAuNDE5IiB5PSIxMDAuMjQxIiByeD0iNC40MDEiLz48cmVjdCB3aWR0aD0iOC44MDIiIGhlaWdodD0iMjEyLjA0OCIgeD0iODguMDIzIiB5PSI1MC4xMiIgcng9IjQuNDAxIi8+PHJlY3Qgd2lkdGg9IjguODAyIiBoZWlnaHQ9IjEwMC4yNDEiIHg9IjEwNS42MjgiIHk9IjEwNy45NTIiIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIxNTAuMzYxIiB4PSIxMjMuMjMzIiB5PSI4MC45NjQiIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIxOTIuNzcxIiB4PSIxNDAuODM3IiB5PSI2MS42ODciIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIyNjYuMDI0IiB4PSIxNTguNDQyIiB5PSIyMy4xMzMiIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIyMjMuNjE0IiB4PSIxNzYuMDQ3IiB5PSI0Ni4yNjUiIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIxMTkuNTE4IiB4PSIxOTMuNjUxIiB5PSI5Ni4zODYiIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIyMDAuNDgyIiB4PSIyMTEuMjU2IiB5PSI1Ny44MzEiIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIzMjAiIHg9IjIyOC44NiIgcng9IjQuNDAxIi8+PHJlY3Qgd2lkdGg9IjguODAyIiBoZWlnaHQ9IjIzMS4zMjUiIHg9IjI0Ni40NjUiIHk9IjQyLjQxIiByeD0iNC40MDEiLz48cmVjdCB3aWR0aD0iOC44MDIiIGhlaWdodD0iMTQ2LjUwNiIgeD0iMjY0LjA3IiB5PSI4NC44MTkiIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIxMDQuMDk2IiB4PSIyODEuNjc0IiB5PSIxMDQuMDk2IiByeD0iNC40MDEiLz48cmVjdCB3aWR0aD0iOC44MDIiIGhlaWdodD0iMjc3LjU5IiB4PSIyOTkuMjc5IiB5PSIxOS4yNzciIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIyMjcuNDciIHg9IjMxNi44ODQiIHk9IjQyLjQxIiByeD0iNC40MDEiLz48cmVjdCB3aWR0aD0iOC44MDIiIGhlaWdodD0iMTU0LjIxNyIgeD0iMzM0LjQ4OCIgeT0iODAuOTY0IiByeD0iNC40MDEiLz48cmVjdCB3aWR0aD0iOC44MDIiIGhlaWdodD0iMTE5LjUxOCIgeD0iMzUyLjA5MyIgeT0iOTYuMzg2IiByeD0iNC40MDEiLz48cmVjdCB3aWR0aD0iOC44MDIiIGhlaWdodD0iNjkuMzk4IiB4PSIzNjkuNjk4IiB5PSIxMjMuMzczIiByeD0iNC40MDEiLz48L2c+PGcgZmlsdGVyPSJ1cmwoI2QpIiBvcGFjaXR5PSIuOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTE2IDEyMykiPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSI5Mi41MyIgeT0iMTExLjgwNyIgcng9IjQuNDAxIi8+PHJlY3Qgd2lkdGg9IjguODAyIiBoZWlnaHQ9IjEzNC45NCIgeD0iMTcuNjA1IiB5PSI4OC42NzUiIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIxODEuMjA1IiB4PSIzNS4yMDkiIHk9IjY1LjU0MiIgcng9IjQuNDAxIi8+PHJlY3Qgd2lkdGg9IjguODAyIiBoZWlnaHQ9IjE1NC4yMTciIHg9IjUyLjgxNCIgeT0iODAuOTY0IiByeD0iNC40MDEiLz48cmVjdCB3aWR0aD0iOC44MDIiIGhlaWdodD0iMTE1LjY2MyIgeD0iNzAuNDE5IiB5PSIxMDAuMjQxIiByeD0iNC40MDEiLz48cmVjdCB3aWR0aD0iOC44MDIiIGhlaWdodD0iMjEyLjA0OCIgeD0iODguMDIzIiB5PSI1MC4xMiIgcng9IjQuNDAxIi8+PHJlY3Qgd2lkdGg9IjguODAyIiBoZWlnaHQ9IjEwMC4yNDEiIHg9IjEwNS42MjgiIHk9IjEwNy45NTIiIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIxNTAuMzYxIiB4PSIxMjMuMjMzIiB5PSI4MC45NjQiIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIxOTIuNzcxIiB4PSIxNDAuODM3IiB5PSI2MS42ODciIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIyNjYuMDI0IiB4PSIxNTguNDQyIiB5PSIyMy4xMzMiIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIyMjMuNjE0IiB4PSIxNzYuMDQ3IiB5PSI0Ni4yNjUiIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIxMTkuNTE4IiB4PSIxOTMuNjUxIiB5PSI5Ni4zODYiIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIyMDAuNDgyIiB4PSIyMTEuMjU2IiB5PSI1Ny44MzEiIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIzMjAiIHg9IjIyOC44NiIgcng9IjQuNDAxIi8+PHJlY3Qgd2lkdGg9IjguODAyIiBoZWlnaHQ9IjIzMS4zMjUiIHg9IjI0Ni40NjUiIHk9IjQyLjQxIiByeD0iNC40MDEiLz48cmVjdCB3aWR0aD0iOC44MDIiIGhlaWdodD0iMTQ2LjUwNiIgeD0iMjY0LjA3IiB5PSI4NC44MTkiIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIxMDQuMDk2IiB4PSIyODEuNjc0IiB5PSIxMDQuMDk2IiByeD0iNC40MDEiLz48cmVjdCB3aWR0aD0iOC44MDIiIGhlaWdodD0iMjc3LjU5IiB4PSIyOTkuMjc5IiB5PSIxOS4yNzciIHJ4PSI0LjQwMSIvPjxyZWN0IHdpZHRoPSI4LjgwMiIgaGVpZ2h0PSIyMjcuNDciIHg9IjMxNi44ODQiIHk9IjQyLjQxIiByeD0iNC40MDEiLz48cmVjdCB3aWR0aD0iOC44MDIiIGhlaWdodD0iMTU0LjIxNyIgeD0iMzM0LjQ4OCIgeT0iODAuOTY0IiByeD0iNC40MDEiLz48cmVjdCB3aWR0aD0iOC44MDIiIGhlaWdodD0iMTE5LjUxOCIgeD0iMzUyLjA5MyIgeT0iOTYuMzg2IiByeD0iNC40MDEiLz48cmVjdCB3aWR0aD0iOC44MDIiIGhlaWdodD0iNjkuMzk4IiB4PSIzNjkuNjk4IiB5PSIxMjMuMzczIiByeD0iNC40MDEiLz48L2c+PC9nPjwvZz48L3N2Zz4="},PZMZ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._component=void 0;var i=a(n("lwsE")),r=a(n("W8MJ")),o=a(n("GWvn")),l=n("LvDl"),u=a(n("EoK6")),d=a(n("nb4O")),c=a(n("sxi+"));function s(e,t){e.length>0&&function(e){if(e.length<=0)return[];var t=Math.floor(e[0].properties.timestamp),n=e.shift();n.properties.timestamp=t;var a=[n];return e.forEach((function(e){var n=Math.floor(e.properties.timestamp);n!==t&&(e.properties.timestamp=n,t=n,a.push(e))})),a}(e).forEach((function(e){t.push(e)}))}function f(){var e=new Date,t=window.StudioConfig.pandataTokenTimeoutSeconds||86400;return e.setTime(e.getTime()+1e3*t-36e5),e}var p=function(){function e(t,n,a,r){(0,i.default)(this,e),this.pandataHost=a,this.appTag=t,this.storage=n,this.eventQueue=[],this.httpClient=o.default,this.registeredTokens={},this.throttledPushBatch=(0,l.throttle)(this.pushBatch,5e3),this.flushOnUnload(r||window)}return(0,r.default)(e,[{key:"flushOnUnload",value:function(e){e.addEventListener("beforeunload",this.unload.bind(this))}},{key:"ensureTokens",value:function(e){if(!e)return Promise.resolve(e);var t=this.registeredTokens[e.resource];return!t||t.expiry>new Date?Promise.resolve(e):t.refreshCallback().then((function(n){return t.expiry=f(),e.auth=n,e}))}},{key:"handleFailure",value:function(e,t){return function(e,t){var n=new Error("Error posting events to pandata."),a=function(t){return(0,l.get)(e,t)},i=a("response.status")||"request_error",r={fingerprint:["pandata_post_error",i],extra:{events:t,url:a("config.url"),status:i},tags:{url:a("config.url"),status:i}};e.response&&e.response.data&&e.response.data.errorMessage&&(n=new Error("pandata response not ok"),r.extra.data=a("response.data")),d.default.captureException(n,r)}(e,t),this.cacheFailedEvents(t)}},{key:"cacheFailedEvents",value:function(e){if(null==e||e.length<=0)return[];var t=this.storage.fetch("pandata_cached_events");return t=t.concat(e),this.storage.set("pandata_cached_events",t),t}},{key:"replayFailedEvents",value:function(){var e=this.storage.fetch("pandata_cached_events");if(e.length>0){if(e.length>250){for(var t=[],n=0;n<250;n++)t.push(e.shift());return this.storage.set("pandata_cached_events",e),this.shipEvents(t)}return this.storage.set("pandata_cached_events",[]),this.shipEvents(e)}return e}},{key:"shipEvents",value:function(e){var t=this;return null==e||e.length<=0?Promise.resolve():this.ensureTokens(this.tokens).then((function(n){var a="".concat(t.pandataHost,"/prod/pandata-event"),i=n&&n.auth,r={headers:{Authorization:"Bearer ".concat(i)}};return t.httpClient.post(a,{events:e},r).then((function(e){if(e.data&&e.data.errorMessage){var n={config:e.config,response:{data:e.data,status:e.status}};return Promise.reject(n)}return t.replayFailedEvents()})).catch((function(n){return t.handleFailure(n,e)}))}))}},{key:"pushBatch",value:function(){for(var e=[],t=[];this.eventQueue&&this.eventQueue.length>0;){var n=this.eventQueue.shift();if("timeupdate"===n.eventType)t.push(n);else s(t,e),t=[],e.push(n)}return s(t,e),this.shipEvents(e)}},{key:"unload",value:function(){this.pushBatch()}},{key:"createEvent",value:function(e,t,n){return{timestamp:(0,c.default)(),eventType:e,appTag:this.appTag,signedProperties:n.resource,properties:(0,l.assign)(t,{triggered_at:Math.round((new Date).getTime()/1e3),user_agent:navigator.userAgent})}}},{key:"report",value:function(e,t,n){var a=this.createEvent(e,t,n);return this.tokens=n,this.eventQueue.push(a),this.onReport&&this.onReport(a),this.throttledPushBatch(),a}},{key:"register",value:function(e){var t=e.tokens,n=e.refreshCallback;if(!this.registeredTokens[t.resource]){var a=f();this.registeredTokens[t.resource]={expiry:a,refreshCallback:n}}}},{key:"unregister",value:function(e){var t=this;return this.pushBatch().then((function(){t.registeredTokens[e.tokens.resource]=null}))}}]),e}(),m=p;t._component=m;var I=window.StudioConfig&&window.StudioConfig.pandataHost,h=I&&new p("ARC",u.default,I)||{register:function(){},report:function(){},unregister:function(){}};t.default=h},R5zu:function(e,t,n){"use strict";n.r(t),n.d(t,"alpha",(function(){return a.a})),n.d(t,"darken",(function(){return i.a})),n.d(t,"lighten",(function(){return r.a})),n.d(t,"contrast",(function(){return u})),n.d(t,"isValid",(function(){return d}));var a=n("6RTY"),i=n("o4+2"),r=n("vlle"),o=n("Zss7"),l=n.n(o);function u(e,t){return l.a.readability(e,t)}function d(e){return l()(e).isValid()}},RGzK:function(e,t,n){},W9zl:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterMediaControlListener=t.registerMediaControlListener=void 0;var i=a(n("J4zp")),r=n("LvDl"),o=a(n("NgXZ")),l=a(n("i3b2")),u=function(e,t){e.window&&e.window.postMessage&&e.window.postMessage(t,"*")},d=function(e){if(e&&(0,r.isString)(e.data)){var t=e.data.split(":",2),n=(0,i.default)(t,2),a=n[0],u=n[1];switch(a){case"mediaPlay":o.default.play();break;case"mediaPause":o.default.pause();break;case"mediaSeekTo":var d=parseFloat(u);if(Number.isNaN(d)){e.source.postMessage("mediaSeekToFailed",e.origin);break}o.default.seek(d);break;case"mediaGetCurrentTime":var c=String(l.default.getTime());e.source.postMessage("mediaCurrentTime:".concat(c),e.origin)}}},c=function(e){e.addEventListener("message",d,!1)};t.registerMediaControlListener=c;var s=function(e){e.removeEventListener("message",d,!1)};t.unregisterMediaControlListener=s,e.exports={mediaEnded:(0,r.debounce)((function(e){u(e,"mediaEnded")}),250),mediaPlaying:(0,r.debounce)((function(e){u(e,"mediaPlaying")}),250),mediaPaused:(0,r.debounce)((function(e){u(e,"mediaPaused")}),250),mediaSeeking:function(e){u(e,"mediaSeeking")},mediaSeeked:(0,r.debounce)((function(e){u(e,"mediaSeeked")}),250),mediaCued:(0,r.debounce)((function(e){u(e,"mediaCued")}),250),mediaUnstarted:(0,r.debounce)((function(e){u(e,"mediaUnstarted")}),250),registerMediaControlListener:c,unregisterMediaControlListener:s}},WVY7:function(e,t,n){},WwR6:function(e,t,n){},XE6b:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("pVnL")),r=a(n("lwsE")),o=a(n("W8MJ")),l=a(n("PJYZ")),u=a(n("a1gu")),d=a(n("Nsbk")),c=a(n("7W2i")),s=a(n("lSNA")),f=a(n("17x9")),p=a(n("q1tI")),m=n("LvDl"),I=a(n("NgXZ")),h=a(n("LCk2")),g=a(n("1adm"));function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n("RGzK");var P=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(v()){var a=(0,d.default)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(){var e;(0,r.default)(this,a);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i)),(0,s.default)((0,l.default)(e),"pandataTokens",(function(){return e.props.pandataTokens||g.default.getTokenRefreshContextForMedia(e.props.media)})),(0,s.default)((0,l.default)(e),"renderSupportDiv",(function(){var t=e.props.media.notorious_id||"unavailable (make sure you are logged in as an admin)";return p.default.createElement("div",{className:"InstructureSupport InstructureSupport--notoriousId"},p.default.createElement("label",null,"notorious id: ",p.default.createElement("input",{readOnly:!0,value:t})))})),e}return(0,o.default)(a,[{key:"componentWillMount",value:function(){I.default.setCommentAvailability(!1)}},{key:"render",value:function(){var e={};this.props.background&&(e.style={background:this.props.background});var t=(0,m.pick)(this.props,Object.keys(h.default.propTypes));return p.default.createElement("div",(0,i.default)({className:"FullScreenMedia"},e),p.default.createElement(h.default,(0,i.default)({},t,{pandataTokens:this.pandataTokens()})),this.renderSupportDiv())}}]),a}(p.default.Component);(0,s.default)(P,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({background:f.default.string},h.default.propTypes));var M=P;t.default=M},XQEZ:function(e,t,n){},XXNU:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("lo+I")),r=n("5hAk"),o={onCanPlay:function(){i.default.dispatch({type:r.Actions.PLAYER_CAN_PLAY})},onEnded:function(){i.default.dispatch({type:r.Actions.PLAYER_ENDED})},onLoadedData:function(){i.default.dispatch({type:r.Actions.PLAYER_LOADED_DATA})},onPause:function(){i.default.dispatch({type:r.Actions.PLAYER_PAUSED})},onPlay:function(e){i.default.dispatch({type:r.Actions.PLAYER_PLAYED,time:e.currentTime})},onPlaying:function(e){i.default.dispatch({type:r.Actions.PLAYER_PLAYED,time:e.currentTime})},onProgress:function(){i.default.dispatch({type:r.Actions.PLAYER_DOWNLOAD_PROGRESS})},onSeeked:function(e){i.default.dispatch({type:r.Actions.PLAYER_SEEKED,time:e.currentTime})},onSeeking:function(e){i.default.dispatch({type:r.Actions.PLAYER_SEEKING,time:e.currentTime})},onTimeUpdate:function(e){i.default.dispatch({type:r.Actions.PLAYER_TIME_UPDATED,time:e.currentTime})},onVolumeChange:function(e){i.default.dispatch({type:r.Actions.PLAYER_VOLUME_CHANGED,volume:e.volume})},onWaiting:function(){i.default.dispatch({type:r.Actions.PLAYER_WAITING})}};t.default=o},YdYI:function(e,t,n){},ZIj2:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("q1tI")),r=a(n("7h0Z")),o=a(n("QzMw")),l=a(n("uqll")),u=a(n("wjR1")),d=a(n("lo+I")),c=n("5hAk"),s=a(n("evxg")),f=a(n("eQhg")),p=a(n("OfJ7")),m=a(n("gcZl")),I={loadForCollection:function(e,t,n,a){return m.default.loadForCollection(e,t,n,a).then((function(e){var t=e.perspectives,n=e.meta;return d.default.dispatch({type:c.Actions.PERSPECTIVES_LOADED,perspectives:t}),{perspectives:t,currentPage:n.current_page,lastPage:n.last_page}})).catch((function(e){return o.default.raise(f.default.t("Error loading media."),e)}))},loadAllSwitchable:function(e){(0,s.default)({api:{url:"/api/media_management/media/".concat(e,"/perspectives"),method:"GET"},success:function(t,n){var a=n.perspectives;t({type:c.Actions.SWITCHABLE_PERSPECTIVES_LOADED,mediaId:e,perspectives:a})},error:function(e,t){o.default.raise(f.default.t("Error loading related media."),t)}})},beginEditing:function(e){d.default.dispatch({type:c.Actions.PERSPECTIVE_UPDATE_BEGIN,id:e})},cancelEditing:function(e){d.default.dispatch({type:c.Actions.PERSPECTIVE_UPDATE_CANCELED,id:e})},update:function(e,t){m.default.updatePerspective(e,t)},hideDeleteConfirm:function(e){d.default.dispatch({type:c.Actions.MEDIA_TILE_HIDE_DELETE_CONFIRM,id:e})},delete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){l.default.notify(f.default.t("Your media has been deleted."),"success")};return m.default.delete(e,t)},load:function(e,t){m.default.load(e,t)},reloadMedia:function(e){p.default.findByMediaId(e).forEach((function(e){I.load(e.data.id)}))},confirmDeletePerspective:function(e,t){var n=t.showModal,a=t.hideModal;n("DeleteMediaConfirm",i.default.createElement(u.default,{primaryColor:"danger",label:f.default.t("Delete Media"),heading:f.default.t("Delete Media"),bodyText:f.default.t("Are you sure you want to delete %{name}?",{name:e&&e.title||f.default.t("this media")}),primaryText:f.default.t("Delete"),secondaryText:f.default.t("Cancel"),onSecondary:function(){return a("DeleteMediaConfirm")},onPrimary:function(){I.delete(e.id).then((function(){e.collection&&r.default.loadCollection(e.collection.id)})),a("DeleteMediaConfirm")}}))}},h=I;t.default=h},ZW6P:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("LvDl"),i=n("rcaT"),r={processingState:function(e){return e&&e.is_external?"complete":e&&e.is_uploading?"uploading":e&&null!==e.notorious_id?this.shouldShowTranscodingProgress(e)?e.transcoding_complete?e.transcoding_complete_notified?"just-now-complete-notified":"just-now-complete":this.transcodingIsInProgress(e)?"processing":"waiting":this.complete(e)?"complete":this.failed(e)?"failed":"waiting":"waiting"},isEmbedable:function(e){return"failed"!==this.processingState(e)},isAudio:function(e){return e.mime_type&&-1!==e.mime_type.indexOf("audio")},shouldShowTranscodingProgress:function(e){return!e.is_external&&(null===e.notorious_status||this.transcodesUnfinished(e.transcodes))},largeThumbnailUrl:function(e){var t=(0,i.isBustedUrl)(e),n=e.split("?")[0],a="".concat(n).concat("?width=1000&height=512");if(t){var r=e.split("&").pop();a="".concat(a,"&").concat(r)}return a},thumbnailReady:function(e){return e&&e.is_external||e.thumbnail_ready||this.complete(e)},transcodingIsInProgress:function(e){return e.transcoding_in_progress||this.transcodesUnfinished(e.transcodes)},maxProgress:function(e){var t=e.map((function(e){return e.progress}));return Math.max.apply(null,t)},transcodesUnfinished:function(e){return e&&e.length>0&&!this.transcodesFailed(e)&&this.maxProgress(e)<100},transcodesFailed:function(e){return e&&e.length>0&&(0,a.every)(e,{status:"failed"})},complete:function(e){return"transcoding_finished"===e.notorious_status},failed:function(e){return(0,a.includes)(["ffprobe_failed","original_download_failed"],e.notorious_status)||this.transcodesFailed(e.transcodes)}};t.default=r},gcZl:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("5hAk"),r=a(n("bW9F")),o=a(n("vpUJ")),l=a(n("i6qW")),u={loadForCollection:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.COLLECTION_SORT_OPTIONS.DATE_ADDED_DESC,o={page:t,per_page:n,sort_by:a};return r.default.get("/api/media_management/collections/".concat(e,"/perspectives"),{params:o}).then((function(e){return e.data}))},load:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{include:["tags"]};return r.default.get("/api/media_management/perspectives/".concat(e),{params:t}).then((function(e){l.default.populateForPerspective(e.data.perspective)}),(function(t){o.default.loadFailed(e,{loading:t.response&&404===t.response.status?"not found":"unknown"})}))},updatePerspective:function(e,t){return r.default.patch("/api/media_management/perspectives/".concat(e.data.id),{perspective:t}).then((function(e){o.default.updated(e.data.perspective)}),(function(t){o.default.updateFailed(e,t.response&&t.response.data&&t.response.data.error)}))},delete:function(e,t){return r.default.delete("/api/media_management/perspectives/".concat(e)).then((function(e){o.default.deleted(e.data.perspective.id),t&&t()}),(function(t){o.default.deleteFailed(e,t.response&&t.response.data&&t.response.data.error)}))}};t.default=u},i6qW:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("Mzra")),r=a(n("vpUJ")),o={populateForPerspective:function(e){r.default.loaded([e]),i.default.loaded(e.media.id,e.media.tags)}};t.default=o},iaGh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arcGreen=t.lightGreen=t.alert=t.danger=t.action=t.successGreen=t.brandPrimaryHC=t.brandPrimary=t.brandLight=t.transparentBlack=t.lightBlack=t.mediumHC=t.light=t.mediumLight=t.lightGray=t.borders=t.medium=t.mediumDarker=t.dark=t.darkest=void 0;t.darkest="#212B33";t.dark="#2D3B45";t.mediumDarker="#394B58";t.medium="#73818C";t.borders="#C7CDD1";t.lightGray="#EEE";t.mediumLight="#F5F5F5";t.light="#FFFFFF";t.mediumHC="#5B6C79";t.lightBlack="#1B1B1B";t.transparentBlack="rgba(0,0,0,.8)";t.brandLight="#00A2FF";t.brandPrimary="#008EE2";t.brandPrimaryHC="#0770A3";t.successGreen="#00AC18";t.action="#BF32A4";t.danger="#EE0612";t.alert="#FC5E13";t.lightGreen="#59DE6D";t.arcGreen="#B6CA36"},jrib:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("lo+I")),r=n("5hAk"),o={onControlsHidden:function(){i.default.dispatch({type:r.Actions.PLAYER_CONTROLS_HIDDEN})},onControlsShown:function(){i.default.dispatch({type:r.Actions.PLAYER_CONTROLS_SHOWN})}};t.default=o},k6PT:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("lwsE")),r=a(n("W8MJ")),o=a(n("PJYZ")),l=a(n("a1gu")),u=a(n("Nsbk")),d=a(n("7W2i")),c=a(n("lSNA")),s=n("LvDl"),f=a(n("17x9")),p=a(n("q1tI")),m=a(n("fN8u")),I=a(n("i3b2")),h=a(n("w6TM"));function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n("ppgG");var y=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,u.default)(t);if(g()){var a=(0,u.default)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,l.default)(this,e)});function a(e){var t;return(0,i.default)(this,a),t=n.call(this,e),(0,c.default)((0,o.default)(t),"updateState",(function(){t.hasMounted&&t.setState(t.calculateNewState(t.props.comments))})),t.hasMounted=!1,t.state={commentsExposed:0,commentsHidden:0},t}return(0,r.default)(a,[{key:"componentDidMount",value:function(){this.hasMounted=!0,m.default.init({replaceState:!0}),I.default.addChangeListener(this.updateState),this.updateState()}},{key:"componentWillReceiveProps",value:function(e){this.setState(this.calculateNewState(e.comments))}},{key:"shouldComponentUpdate",value:function(e,t){return!(0,s.isEqual)(e,this.props)||!(0,s.isEqual)(t,this.state)}},{key:"componentWillUnmount",value:function(){m.default.destroy(),I.default.removeChangeListener(this.updateState),this.hasMounted=!1}},{key:"calculateNewState",value:function(e){for(var t=Math.min(e.length,this.state.commentsExposed),n=Math.min(e.length,this.state.commentsHidden),a=I.default.getTime(),i=a+.5,r=a-2;t<e.length&&i>=e[t].data.time;)t+=1;for(;t>0&&i<e[t-1].data.time;)t-=1;for(;n<e.length&&r>=e[n].data.time;)n+=1;for(;n>0&&r<e[n-1].data.time;)n-=1;return{commentsExposed:t,commentsHidden:n}}},{key:"renderCommentBubbles",value:function(e){var t=this;return e.map((function(e,n){var a=e.data.id,i=n<t.state.commentsHidden||n>=t.state.commentsExposed;return p.default.createElement(h.default,{key:a,text:e.data.text,authorName:e.data.author.display_name,authorAvatar:e.data.author.avatar_url,anchorId:"comment-".concat(a),hidden:i,onViewComment:t.props.onViewComment})}))}},{key:"render",value:function(){var e=75*this.state.commentsExposed,t={transform:"translateY(-".concat(e,"px)")};return p.default.createElement("div",{className:"CommentBubbleList"},p.default.createElement("ul",{className:"CommentBubbleList__items",style:t},this.renderCommentBubbles(this.props.comments)))}}]),a}(p.default.Component);(0,c.default)(y,"displayName","CommentBubbleList"),(0,c.default)(y,"propTypes",{comments:f.default.array.isRequired,onViewComment:f.default.func.isRequired});var v=y;t.default=v},kSa1:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n("bKGl"),r=a(n("bW9F")),o={deleteCollection:function(e){return r.default.delete("/api/media_management/collections/".concat(e)).then((function(e){return e.data.collection}))},loadCollections:function(){return r.default.get("/api/media_management/collections").then((function(e){return e.data.collections}))},loadCollection:function(e){return r.default.get("/api/media_management/collections/".concat(e)).then((function(e){return e.data.collection}))},createCollection:function(e){return r.default.post("/api/media_management/collections",{collection:e}).then((function(e){return e.data.collection}))},movePerspective:function(e,t,n){return r.default.post("/api/media_management/perspectives/move",(0,i.decamelizeKeys)({perspectiveUuids:[e],fromCollectionId:t,toCollectionId:n}))},updateCollection:function(e,t){return r.default.patch("/api/media_management/collections/".concat(e),t).then((function(e){return e.data.collection}))},getCollectionPermissions:function(e){return r.default.get("/api/media_management/collections/".concat(e,"/permissions")).then((function(e){return e.data.collection_permissions}))},updateCollectionPermissions:function(e,t){var n=t.filter((function(e){return!0===e.pendingUpdate})).map((function(e){return{type:e.type,id:e.id,user_id:e.user.id,action:e.action}}));return r.default.post("/api/media_management/collections/".concat(e,"/permissions/batch_update"),{updates:n}).then((function(e){return e.data.collection_permissions}))},getCollectionsShareInfo:function(e){for(var t=[],n=0;n<e.length;n+=1)t[n]="ids[]=".concat(e[n]);return r.default.get("/api/media_management/collection_permissions?".concat(t.join("&"),"&type[]=view&type[]=edit")).then((function(e){var t=[];return e.data.permissions.forEach((function(e){t.push(e.collection_id)})),t}))}};t.default=o},kTRk:function(e,t,n){"use strict";function a(){try{return window.self!==window.top}catch(e){return!0}}function i(e){e&&"function"==typeof e.focus&&e.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.isWithinIFrame=a,t.focusElement=i,t.default=void 0;var r={focusElement:i,isWithinIFrame:a};t.default=r},pcar:function(e,t,n){"use strict";var a=n("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.sizes=t.colors=void 0;var i={buttonBackground:a(n("iaGh")).transparentBlack};t.colors=i;t.sizes={iconSize:"15px",buttonSize:"38px",borderWidth:"2px"}},ppgG:function(e,t,n){},rDRK:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("lwsE")),r=a(n("W8MJ")),o=a(n("a1gu")),l=a(n("Nsbk")),u=a(n("7W2i")),d=a(n("lSNA")),c=n("oMAr"),s=a(n("q1tI")),f=a(n("17x9")),p=a(n("nb4O")),m=a(n("p9ZT")),I=a(n("eQhg")),h=a(n("G2tU")),g=a(n("OfJ7"));function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var v=function(e){(0,u.default)(a,e);var t,n=(t=a,function(){var e,n=(0,l.default)(t);if(y()){var a=(0,l.default)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,o.default)(this,e)});function a(){return(0,i.default)(this,a),n.apply(this,arguments)}return(0,r.default)(a,[{key:"render",value:function(){var e=null;try{e=g.default.getDownloadLink(this.props.perspective)}catch(e){return p.default.captureException(e,{fingerprint:["cannot_get_download_link"],extra:{perspective:this.props.perspective}}),null}return s.default.createElement("div",{className:"".concat(this.props.classNamePrefix,"__DownloadButton")},s.default.createElement(h.default,{icon:c.IconDownloadSolid,label:I.default.t("Download"),screenReaderLabel:I.default.t("Download %{title}",{title:this.props.perspective.data.title}),href:e}))}}]),a}(s.default.Component);(0,d.default)(v,"propTypes",{classNamePrefix:f.default.string.isRequired,perspective:m.default.PropTypeShape({id:f.default.string.isRequired,title:f.default.string,media:f.default.shape({id:f.default.number,sources:f.default.array})})});var P=v;t.default=P},"sxi+":function(e,t,n){"use strict";function a(e){return e.toString().length<2?"0".concat(e):e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){var t=e||new Date;return"".concat(t.getUTCFullYear(),"-").concat(a(t.getUTCMonth()+1),"-").concat(a(t.getUTCDate()),"T").concat(a(t.getUTCHours()),":").concat(a(t.getUTCMinutes()),":").concat(a(t.getUTCSeconds()))};t.default=i},vpUJ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("lo+I")),r=n("5hAk"),o={loaded:function(e){i.default.dispatch({type:r.Actions.PERSPECTIVES_LOADED,perspectives:e})},loadFailed:function(e,t){i.default.dispatch({type:r.Actions.PERSPECTIVE_LOAD_FAILED,id:e,errors:t})},updated:function(e){i.default.dispatch({type:r.Actions.PERSPECTIVE_UPDATED,perspective:e})},updateFailed:function(e,t){i.default.dispatch({type:r.Actions.PERSPECTIVE_UPDATE_FAILED,id:e.data.id,previousPerspective:e,errors:t})},deleted:function(e){i.default.dispatch({type:r.Actions.PERSPECTIVE_DELETED,id:e})},deleteFailed:function(e,t){i.default.dispatch({type:r.Actions.PERSPECTIVE_DELETE_FAILED,id:e,errors:t})}};t.default=o},w6TM:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("pVnL")),r=a(n("lwsE")),o=a(n("W8MJ")),l=a(n("PJYZ")),u=a(n("a1gu")),d=a(n("Nsbk")),c=a(n("7W2i")),s=a(n("lSNA")),f=a(n("TSYQ")),p=a(n("17x9")),m=a(n("q1tI")),I=n("KK4r"),h=a(n("NgXZ")),g=a(n("eQhg"));function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n("YdYI");var v=function(e){(0,c.default)(a,e);var t,n=(t=a,function(){var e,n=(0,d.default)(t);if(y()){var a=(0,d.default)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,u.default)(this,e)});function a(){var e;(0,r.default)(this,a);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i)),(0,s.default)((0,l.default)(e),"handleCommentBubbleClicked",(function(t){t.stopPropagation(),e.props.hidden?t.preventDefault():(h.default.pause(),e.props.onViewComment&&e.props.onViewComment())})),e}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props,t=e.hidden,n=e.anchorId,a=e.authorName,r=e.authorAvatar,o=e.text,l=(0,f.default)({CommentBubbleListItem:!0,hidden:t}),u={href:"#".concat(n),onClick:this.handleCommentBubbleClicked,tabIndex:"-1",className:l};t||(u["data-scroll"]="true");var d=(0,f.default)({CommentBubbleListItem__li:!0,hidden:t}),c=g.default.t('%{authorName} says "%{text}"',{authorName:a,text:o});return m.default.createElement("li",{className:d},m.default.createElement("a",(0,i.default)({},u,{"aria-label":c}),m.default.createElement("div",{className:"CommentBubbleListItem__avatar"},m.default.createElement(I.Avatar,{name:a,src:r,size:"medium",margin:"0 small 0 0"})),m.default.createElement("div",{className:"CommentBubbleListItem__text"},m.default.createElement("p",null,o))))}}]),a}(m.default.Component);(0,s.default)(v,"propTypes",{text:p.default.string,authorName:p.default.string,authorAvatar:p.default.string,anchorId:p.default.string,onViewComment:p.default.func,hidden:p.default.bool});var P=v;t.default=P},wjR1:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var i=a(n("pVnL")),r=a(n("q1tI")),o=a(n("eQhg")),l=n("spba"),u=n("7I2A"),d=n("K6WN"),c=n("e2P+"),s=a(n("cmpE")),f=n("nwNI"),p=a(n("17x9"));function m(e){var t=e.primaryColor,n=e.heading,a=e.alertText,p=e.bodyText,I=e.primaryText,h=e.secondaryText,g=e.onSecondary,y=e.onPrimary;return r.default.createElement(u.Modal,(0,i.default)({},(0,c.omitProps)((0,c.passthroughProps)(e),m.propTypes),{size:"small",onDismiss:g,liveRegion:s.default}),r.default.createElement(u.Modal.Header,null,r.default.createElement(d.CloseButton,{placement:"end",offset:"medium",variant:"icon",onClick:g},o.default.t("Close")),r.default.createElement(f.Heading,null,n)),r.default.createElement(u.Modal.Body,null,p,a&&r.default.createElement(l.Alert,{variant:"warning",margin:"small 0"},a)),r.default.createElement(u.Modal.Footer,null,r.default.createElement("div",{className:"ConfirmDialog__secondaryButton"},r.default.createElement(d.Button,{margin:"0 x-small 0 0",onClick:g},h)),r.default.createElement("div",{className:"ConfirmDialog__primaryButton"},r.default.createElement(d.Button,{onClick:y,variant:t},I))))}m.propTypes={heading:p.default.string.isRequired,bodyText:p.default.string.isRequired,alertText:p.default.string,primaryText:p.default.string.isRequired,secondaryText:p.default.string,onSecondary:p.default.func.isRequired,onPrimary:p.default.func.isRequired,primaryColor:p.default.string},m.defaultProps={primaryColor:"primary",secondaryText:o.default.t("Cancel"),alertText:null}},yhUK:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("lwsE")),r=a(n("W8MJ")),o=a(n("PJYZ")),l=a(n("a1gu")),u=a(n("Nsbk")),d=a(n("7W2i")),c=a(n("lSNA")),s=a(n("17x9")),f=a(n("q1tI")),p=a(n("rDRK")),m=a(n("eQhg")),I=n("cPO5"),h=a(n("1adm")),g=a(n("OfJ7")),y=a(n("ZIj2")),v=a(n("F03Q")),P=a(n("XE6b"));function M(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n("WwR6");var E=function(e){(0,d.default)(a,e);var t,n=(t=a,function(){var e,n=(0,u.default)(t);if(M()){var a=(0,u.default)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,l.default)(this,e)});function a(){var e;(0,i.default)(this,a);for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=n.call.apply(n,[this].concat(r)),(0,c.default)((0,o.default)(e),"embedId",(function(){return e.props.match.params.id})),(0,c.default)((0,o.default)(e),"handleStoreChange",(function(){e.forceUpdate()})),(0,c.default)((0,o.default)(e),"renderDownloadButton",(function(e){var t=v.default.launchParams();return t&&t.data.embed_downloadable?function(){return f.default.createElement(p.default,{classNamePrefix:"LtiBareEmbeddedMedia",perspective:e})}:null})),(0,c.default)((0,o.default)(e),"renderLoading",(function(){return f.default.createElement(I.Spinner,{renderTitle:m.default.t("Loading")})})),(0,c.default)((0,o.default)(e),"renderPlayer",(function(t){var n=h.default.getTokenRefreshContextForPerspective(t.data);return f.default.createElement(P.default,{media:t.data.media,pandataTokens:n,title:t.title,actionBarRender:e.renderDownloadButton(t)})})),e}return(0,r.default)(a,[{key:"componentWillMount",value:function(){g.default.addChangeListener(this.handleStoreChange),y.default.load(this.embedId())}},{key:"componentWillUnmount",value:function(){g.default.removeChangeListener(this.handleStoreChange)}},{key:"render",value:function(){var e=g.default.find(this.embedId());return e.state.sourcesLoaded?this.renderPlayer(e):this.renderLoading()}}]),a}(f.default.Component);(0,c.default)(E,"propTypes",{match:s.default.shape({params:s.default.shape({id:s.default.string.isRequired}).isRequired}).isRequired});var S=E;t.default=S}}]);